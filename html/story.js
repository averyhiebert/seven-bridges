var storyContent = ï»¿{"inkVersion":19,"root":[["\n",{"#":"TITLE Bridges of Konigsberg"},{"->":"prologue"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"prologue":[["^As you awake, a strange voice echoes in your head.","\n","^\"You will not be free until you can cross each bridge exactly once and return to your starting point outside the Cathedral.\"","\n","ev","str","^Continue...","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":"Kneiphof.long"},{"#f":5}]}],{"#f":1}],"Example":[{"#":"CLEAR"},"^Short description here","\n",{"->":".^.options"},{"long":[{"#":"CLEAR"},"^Long description here","\n","^(multiple paragraphs)","\n",{"->":".^.^.options"},{"#f":1}],"options":[["ev","str","^Look around","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Go to...","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":"Example.long"},{"#f":5}],"c-1":["\n",[["ev",{"^->":"Example.options.0.c-1.1.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^Some bridge",{"->":"$r","var":true},null]}],"ev","str","^nowhere","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["ev",{"^->":"Example.options.0.c-1.1.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Example"},{"^->":"Example"},"/ev",{"->":"Bridges.iron"},{"#f":5}],"c-1":["^ ",{"->":"Example"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":1}],"#f":3}],"Kneiphof":["^You are on the island of Kneiphof. ",{"#":"CLEAR"},"\n","ev",{"VAR?":"kneiphof"},"/ev",{"->t->":"check_win_loss"},{"->":".^.options"},{"long":[{"#":"CLEAR"},"^You are standing in the cobbled streets of the island of Kneiphof","ev",{"VAR?":"intro"},"/ev",[{"->":".^.b","c":true},{"b":["^, in the city of Konigsberg",{"->":".^.^.^.6"},null]}],"nop","^.  The only sound is the croaking and flitting of crows.","\n","ev",{"VAR?":"intro"},"/ev",[{"->":".^.b","c":true},{"b":["^The windows are dark.  The streets are empty.  The glow of twilight (or perhaps sunrise) lingers in the sky, as though frozen in time.",{"->":".^.^.^.13"},null]}],"nop","\n","ev",0,"/ev",{"VAR=":"intro","re":true},"^Above you looms the Konigsberg Cathedral.","\n","^To the north, an iron bridge and a marble bridge cross over the river Pregel to the North Shore.","\n","^To the south, a bridge of stone and a bridge of brick stretch towards the South Shore.","\n","^To the east, a wooden bridge leads to the island of Lomse.","\n","ev",{"VAR?":"island_seen"},{"VAR?":"kneiphof"},"+",{"VAR=":"island_seen","re":true},"/ev",{"->":".^.^.options"},{"#f":1}],"options":[["ev","str","^Look around","/str","/ev",{"*":".^.c-0","flg":4},["ev",{"^->":"Kneiphof.options.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":"Kneiphof.long"},"/ev",{"*":".^.^.c-1","flg":3},{"s":["^Go to...",{"->":"$r","var":true},null]}],{"c-0":["\n",{"->":"Kneiphof.long"},{"#f":5}],"c-1":["ev",{"^->":"Kneiphof.options.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.6.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"Kneiphof.options.0.c-1.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^the Cathedral",{"->":"$r","var":true},null]}],["ev",{"^->":"Kneiphof.options.0.c-1.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^the bridge of iron",{"->":"$r","var":true},null]}],["ev",{"^->":"Kneiphof.options.0.c-1.7.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^the bridge of marble",{"->":"$r","var":true},null]}],["ev",{"^->":"Kneiphof.options.0.c-1.7.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":2},{"s":["^the wooden bridge",{"->":"$r","var":true},null]}],["ev",{"^->":"Kneiphof.options.0.c-1.7.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-4","flg":2},{"s":["^the bridge of brick",{"->":"$r","var":true},null]}],["ev",{"^->":"Kneiphof.options.0.c-1.7.5.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-5","flg":2},{"s":["^the bridge of stone",{"->":"$r","var":true},null]}],"ev","str","^nowhere","/str","/ev",{"*":".^.c-6","flg":4},{"c-0":["ev",{"^->":"Kneiphof.options.0.c-1.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}],"c-1":["ev",{"^->":"Kneiphof.options.0.c-1.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Kneiphof"},{"^->":"North_Shore"},"/ev",{"->":"Bridges.iron"},{"#f":5}],"c-2":["ev",{"^->":"Kneiphof.options.0.c-1.7.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Kneiphof"},{"^->":"North_Shore"},"/ev",{"->":"Bridges.marble"},{"#f":5}],"c-3":["ev",{"^->":"Kneiphof.options.0.c-1.7.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Kneiphof"},{"^->":"Lomse"},"/ev",{"->":"Bridges.wooden"},{"#f":5}],"c-4":["ev",{"^->":"Kneiphof.options.0.c-1.7.c-4.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Kneiphof"},{"^->":"South_Shore"},"/ev",{"->":"Bridges.brick"},{"#f":5}],"c-5":["ev",{"^->":"Kneiphof.options.0.c-1.7.c-5.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.5.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Kneiphof"},{"^->":"South_Shore"},"/ev",{"->":"Bridges.stone"},{"#f":5}],"c-6":["^ ",{"->":"Kneiphof"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":1}],"#f":3}],"North_Shore":["^You are on the North Shore of the river Pregel. ",{"#":"CLEAR"},"\n","ev",{"VAR?":"north"},"/ev",{"->t->":"check_win_loss"},{"->":".^.options"},{"long":[{"#":"CLEAR"},"^You stand on the North Shore of the river Pregel.  Above you stand the fortifications of Konigsberg Castle.  Moss clings to the cracks in the ancient walls.","\n","^To the southwest, a bridge of iron and a bridge of marble lead to the island of Kneiphof.","\n","^To the southeast, a drawbridge leads to the island of Lomse.  The bridge is ","ev",{"VAR?":"bridge_crossed"},{"VAR?":"C"},"?","/ev",[{"->":".^.b","c":true},{"b":["^ drawn up",{"->":".^.^.^.13"},null]}],[{"->":".^.b"},{"b":["^ down",{"->":".^.^.^.13"},null]}],"nop","^.","\n",{"->":".^.^.options"},{"#f":1}],"options":[["ev","str","^Look around","/str","/ev",{"*":".^.c-0","flg":4},["ev",{"^->":"North_Shore.options.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":".^.^.^.^.long"},"/ev",{"*":".^.^.c-1","flg":3},{"s":["^Go to...",{"->":"$r","var":true},null]}],{"c-0":["\n",{"->":".^.^.^.^.long"},{"#f":5}],"c-1":["ev",{"^->":"North_Shore.options.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.6.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"North_Shore.options.0.c-1.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^the bridge of iron",{"->":"$r","var":true},null]}],["ev",{"^->":"North_Shore.options.0.c-1.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^the bridge of marble",{"->":"$r","var":true},null]}],["ev",{"^->":"North_Shore.options.0.c-1.7.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^the drawbridge",{"->":"$r","var":true},null]}],"ev","str","^nowhere","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["ev",{"^->":"North_Shore.options.0.c-1.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"North_Shore"},{"^->":"Kneiphof"},"/ev",{"->":"Bridges.iron"},{"#f":5}],"c-1":["ev",{"^->":"North_Shore.options.0.c-1.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"North_Shore"},{"^->":"Kneiphof"},"/ev",{"->":"Bridges.marble"},{"#f":5}],"c-2":["ev",{"^->":"North_Shore.options.0.c-1.7.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"North_Shore"},{"^->":"Lomse"},"/ev",{"->":"Bridges.drawbridge"},{"#f":5}],"c-3":["^ ",{"->":"North_Shore"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":1}],"#f":3}],"Lomse":["^You are on the island of Lomse. ",{"#":"CLEAR"},"\n","ev",{"VAR?":"lomse"},"/ev",{"->t->":"check_win_loss"},{"->":".^.options"},{"long":[{"#":"CLEAR"},"^You stand in a graveyard on the marshy, sparsely inhabited island of Lomse.  Grim grey headstones and scraggly trees stretch into the misty distance.","\n","^Nearby is a lonely ossuary.","\n","^A drawbridge leads to the North Shore.  The bridge is ","ev",{"VAR?":"bridge_crossed"},{"VAR?":"C"},"?","/ev",[{"->":".^.b","c":true},{"b":["^ drawn up",{"->":".^.^.^.13"},null]}],[{"->":".^.b"},{"b":["^ down",{"->":".^.^.^.13"},null]}],"nop","^.","\n","^A rope bridge extends precariously to the South Shore.","\n","^To the west, a wooden bridge connects to the island of Kneiphof.","\n",{"->":".^.^.options"},{"#f":1}],"options":[["ev","str","^Look around","/str","/ev",{"*":".^.c-0","flg":4},["ev",{"^->":"Lomse.options.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":"Lomse.long"},"/ev",{"*":".^.^.c-1","flg":3},{"s":["^Go to...",{"->":"$r","var":true},null]}],{"c-0":["\n",{"->":"Lomse.long"},{"#f":5}],"c-1":["ev",{"^->":"Lomse.options.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.6.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"Lomse.options.0.c-1.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^the ossuary",{"->":"$r","var":true},null]}],["ev",{"^->":"Lomse.options.0.c-1.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^the drawbridge",{"->":"$r","var":true},null]}],["ev",{"^->":"Lomse.options.0.c-1.7.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^the wooden bridge",{"->":"$r","var":true},null]}],["ev",{"^->":"Lomse.options.0.c-1.7.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":2},{"s":["^the rope bridge",{"->":"$r","var":true},null]}],"ev","str","^nowhere","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["ev",{"^->":"Lomse.options.0.c-1.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":"Lomse.ossuary_exterior"},{"#f":5}],"c-1":["ev",{"^->":"Lomse.options.0.c-1.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Lomse"},{"^->":"North_Shore"},"/ev",{"->":"Bridges.drawbridge"},{"#f":5}],"c-2":["ev",{"^->":"Lomse.options.0.c-1.7.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Lomse"},{"^->":"Kneiphof"},"/ev",{"->":"Bridges.wooden"},{"#f":5}],"c-3":["ev",{"^->":"Lomse.options.0.c-1.7.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"Lomse"},{"^->":"South_Shore"},"/ev",{"->":"Bridges.rope"},{"#f":5}],"c-4":["^ ",{"->":"Lomse"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":1}],"ossuary_exterior":[{"#":"CLEAR"},"^The ossuary is a plain stone building.  The only adornment is a Latin inscription over the entrance.","\n","^The oaken door is ","ev",{"VAR?":"ossuary_locked"},"/ev",[{"->":".^.b","c":true},{"b":["^locked","ev",{"VAR?":"ossuary_key"},"/ev",[{"->":".^.b","c":true},{"b":["^, but the iron key you found fits the lock perfectly",{"->":".^.^.^.5"},null]}],"nop",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^unlocked",{"->":".^.^.^.9"},null]}],"nop","^. ",{"->":".^.^.ossuary_options"},"\n",{"#f":1}],"ossuary_options":[["ev","str","^Unlock the ossuary.","/str",{"VAR?":"ossuary_locked"},{"VAR?":"ossuary_key"},"&&","/ev",{"*":".^.c-0","flg":5},"ev","str","^Lock the ossuary.","/str",{"VAR?":"ossuary_locked"},"!","/ev",{"*":".^.c-1","flg":5},"ev","str","^Read the inscription.","/str","/ev",{"*":".^.c-2","flg":20},["ev",{"^->":"Lomse.ossuary_options.0.23.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"ossuary_locked"},"!","/ev",{"*":".^.^.c-3","flg":3},{"s":["^Enter the ossuary.",{"->":"$r","var":true},null]}],"ev","str","^Go back.","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["\n","^The ossuary is now unlocked.","\n","ev",0,"/ev",{"VAR=":"ossuary_locked","re":true},{"->":".^.^.^"},{"#f":5}],"c-1":["\n","^The ossuary is locked.","\n","ev",1,"/ev",{"VAR=":"ossuary_locked","re":true},{"->":".^.^.^"},{"#f":5}],"c-2":["\n","^The inscription says MELIUS EST IRE AD DOMUM LUCTUS QUAM AD DOMUM CONVIVII.","\n",{"->":".^.^.^"},{"#f":5}],"c-3":["ev",{"^->":"Lomse.ossuary_options.0.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.23.s"},[{"#n":"$r2"}],"\n",{"->":"Lomse.ossuary_interior"},{"#f":5}],"c-4":["^ ",{"->":"Lomse"},"\n",{"#f":5}]}],{"#f":1}],"ossuary_interior":[[{"#":"CLEAR"},"^You are inside a dark stone room.  Against each wall is a tightly-packed stack of ancient bones.  The door casts a beam of light on a pile of skulls grinning against the back wall.","\n","^In the floor is a trapdoor leading to a dark passage.","\n",["ev",{"^->":"Lomse.ossuary_interior.0.5.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^Enter the passage.",{"->":"$r","var":true},null]}],"ev","str","^Go back.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["ev",{"^->":"Lomse.ossuary_interior.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.5.s"},[{"#n":"$r2"}],"\n",{"#f":5}],"c-1":["^ ",{"->":"Lomse.ossuary_exterior"},"\n",{"#f":5}]}],{"#f":1}],"#f":3}],"South_Shore":[{"#":"CLEAR"},"^You are on the South Shore of the river Pregel.","\n","ev",{"VAR?":"south"},"/ev",{"->t->":"check_win_loss"},{"->":".^.options"},{"long":[{"#":"CLEAR"},"^You stand on the South Shore of the river Pregel.  Further south, many narrow cobbled streets wind maze-like between tall buildings leaning at strange angles.  The streets are dark and empty.","\n","^A wooden jetty juts out into the river.  At the end stands a silent, grey-cloaked figure.","\n","^To the north west, a bridge of stone and ","ev",{"VAR?":"bridge_crossed"},{"VAR?":"F"},"?","/ev",[{"->":".^.b","c":true},{"b":["^the remains of ",{"->":".^.^.^.12"},null]}],"nop","^a bridge of brick lead to the island of Kneiphof.","\n","^To the north east, a rope bridge leads to the island of Lomse.","\n",{"->":".^.^.options"},{"#f":1}],"options":[["ev","str","^Look around","/str","/ev",{"*":".^.c-0","flg":4},["ev",{"^->":"South_Shore.options.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":".^.^.^.^.long"},"/ev",{"*":".^.^.c-1","flg":3},{"s":["^Go to...",{"->":"$r","var":true},null]}],{"c-0":["\n",{"->":".^.^.^.^.long"},{"#f":5}],"c-1":["ev",{"^->":"South_Shore.options.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.6.s"},[{"#n":"$r2"}],"\n",[["ev",{"^->":"South_Shore.options.0.c-1.7.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^the stone bridge",{"->":"$r","var":true},null]}],["ev",{"^->":"South_Shore.options.0.c-1.7.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^the brick bridge",{"->":"$r","var":true},null]}],["ev",{"^->":"South_Shore.options.0.c-1.7.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^the rope bridge",{"->":"$r","var":true},null]}],"ev","str","^nowhere","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["ev",{"^->":"South_Shore.options.0.c-1.7.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"South_Shore"},{"^->":"Kneiphof"},"/ev",{"->":"Bridges.stone"},{"#f":5}],"c-1":["ev",{"^->":"South_Shore.options.0.c-1.7.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"South_Shore"},{"^->":"Kneiphof"},"/ev",{"->":"Bridges.brick"},{"#f":5}],"c-2":["ev",{"^->":"South_Shore.options.0.c-1.7.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","ev",{"^->":"South_Shore"},{"^->":"Lomse"},"/ev",{"->":"Bridges.rope"},{"#f":5}],"c-3":["^ ",{"->":"South_Shore"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":1}],"#f":3}],"game_over":[{"temp=":"island"},["^In the distance, an iron bell tolls mournfully.  You realize that you are trapped here, with no way to reach the remaining uncrossed bridges","ev",{"VAR?":"island"},{"VAR?":"kneiphof"},"!=","/ev",[{"->":".^.b","c":true},{"b":["^ or return to the Cathedral",{"->":".^.^.^.7"},null]}],"nop","^.","\n","^Unless...","\n","ev","str","^Attempt to swim","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n","^In a desperate last attempt, you leap into the Pregel river.","\n","^You are immediately overwhelmed by the cold and the current.  The world fades into darkness as you sink into the inky depths.","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[["ev",{"^->":"game_over.1.g-0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Try again...",{"->":"$r","var":true},null]}],{"c-1":["ev",{"^->":"game_over.1.g-0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#":"RESTART"},"end",{"#f":5}],"#f":5}]}],{"#f":1}],"Bridges":[{"brick":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before ","ev",{"VAR?":"bridge_crossed"},{"VAR?":"F"},"?","/ev",[{"->":".^.b","c":true},{"b":["^the crumbling remains of a brick bridge",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^a bridge made of red brick",{"->":".^.^.^.9"},null]}],"nop","^.","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You start to cross the bridge.  About halfway across you spot a large iron key lying on the ground.","\n",["ev","str","^Grab it.","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Leave it.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\n","^You grab the key.","\n","ev",1,"/ev",{"VAR=":"ossuary_key","re":true},{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^As you reach the other side and step off the bridge you hear the wailing of a far-off wind.  The bridge begins to age rapidly.  The bricks crumble as they are overtaken by moss, erosion, and the unrelenting march of time.  Soon, only an impassible ruin remains.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"F"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",["ev",{"^->":"Bridges.brick.2.c-0.3.g-0.8.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-2":["ev",{"^->":"Bridges.brick.2.c-0.3.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.8.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"rope":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before a narrow rope bridge hanging low over the rushing river.","<>","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"G"},"?","/ev",[{"->":".^.b","c":true},{"b":["^  The bridge is swarming with hostile crows.",{"->":".^.^.^.10"},null]}],"nop","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You begin to cross the precarious rope bridge.  Behind you, a dense swarm of crows descends, covering the bridge completely.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"G"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",[["ev",{"^->":"Bridges.rope.2.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"Bridges.rope.2.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"stone":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before an arched bridge of ancient masonry.","<>","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"E"},"?","/ev",[{"->":".^.b","c":true},{"b":["^  A wall of sulfurous flames prevents you from crossing.",{"->":".^.^.^.11"},null]}],[{"->":".^.b"},{"b":["^  Medieval legend claims that the bridge was built by the Devil himself.",{"->":".^.^.^.11"},null]}],"nop","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You begin to cross the bridge.  As soon as you pass the halfway point the scent of sulfur fills the air and a wall of blue flame crackles into being behind you.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"E"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",[["ev",{"^->":"Bridges.stone.2.c-0.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"Bridges.stone.2.c-0.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"iron":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before an imposing suspension bridge of great iron girders, held together by giant rivets and covered in a red layer of rust.","<>","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"A"},"?","/ev",[{"->":".^.b","c":true},{"b":["^  The path is barred by a heavy iron gate.",{"->":".^.^.^.10"},null]}],"nop","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You begin to cross the iron bridge.","\n","^As you step off the other side a gate slams shut behind you with a heavy clang.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"A"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",[["ev",{"^->":"Bridges.iron.2.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"Bridges.iron.2.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"marble":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before a marble bridge in classical Doric style.","<>","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"B"},"?","/ev",[{"->":".^.b","c":true},{"b":["^  The way is barred by a crowd of living statues.",{"->":".^.^.^.11"},null]}],[{"->":".^.b"},{"b":["^  Lifelike statues line both sides of the bridge.",{"->":".^.^.^.11"},null]}],"nop","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You start to walk across the marble bridge.  Halfway across you spot spot something glinting on the ground.","\n",["ev","str","^Grab it.","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Leave it.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\n","^You pick up the object.  It appears to be some sort of coin, irregularly shaped and bearing an inscription in ancient Greek.","\n","ev",{"VAR?":"drachmas"},1,"+",{"VAR=":"drachmas","re":true},"/ev",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^As you reach the other side the statues begin to move, stiffly and clumsily but with a sense of purpose.  They climb down onto the bridge behind you, barring the way back.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"B"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",["ev",{"^->":"Bridges.marble.2.c-0.3.g-0.8.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-2":["ev",{"^->":"Bridges.marble.2.c-0.3.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.8.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"drawbridge":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before a drawbridge, a marvel of modern engineering.","<>","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"C"},"?","/ev",[{"->":".^.b","c":true},{"b":["^ The bridge is drawn up and impassible. ",{"->":".^.^.^.11"},null]}],[{"->":".^.b"},{"b":["^ The bridge is down, offering safe passage.",{"->":".^.^.^.11"},null]}],"nop","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You cross the bridge.","\n","^As you step off the other side, gears and pulleys begin to rumble and screech as a great mechanism awakes.  The bridge rises, slowly but surely, until it is impassible.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"C"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",[["ev",{"^->":"Bridges.drawbridge.2.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"Bridges.drawbridge.2.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"wooden":[{"temp=":"to"},{"temp=":"from"},[{"#":"CLEAR"},"^You stand before a rickety wooden bridge.","<>","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"D"},"?","/ev",[{"->":".^.b","c":true},{"b":["^ The pathway is blocked by a wall of thorn-studded vines that seem to grow out of the wood of the bridge itself.",{"->":".^.^.^.10"},null]}],"nop","\n","ev","str","^Cross the bridge","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^You cross the bridge.","\n","^The dead wood beneath your feet comes back to life as you walk, sprouting leafy branches and thick, thorny vines that quickly block the pathway behind you.","\n","ev",{"VAR?":"bridge_crossed"},{"VAR?":"D"},"+",{"VAR=":"bridge_crossed","re":true},"/ev",[["ev",{"^->":"Bridges.wooden.2.c-0.11.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Continue...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"Bridges.wooden.2.c-0.11.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"to","var":true},{"#f":5}]}],{"#f":5}],"c-1":["^ ",{"->":"from","var":true},"\n",{"#f":5}]}],{"#f":1}],"#f":1}],"check_win_loss":[{"temp=":"island"},"ev",{"VAR?":"island"},"/ev",["du","ev",{"VAR?":"north"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"bridge_crossed"},{"list":{"bridge_id.A":1,"bridge_id.B":2,"bridge_id.C":3}},"?","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"island"},"/ev",{"->":"game_over"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"south"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"bridge_crossed"},{"list":{"bridge_id.E":5,"bridge_id.F":6,"bridge_id.G":7}},"?","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"island"},"/ev",{"->":"game_over"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"kneiphof"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"bridge_crossed"},{"list":{"bridge_id.A":1,"bridge_id.B":2,"bridge_id.D":4,"bridge_id.E":5,"bridge_id.F":6}},"?","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"island"},"/ev",{"->":"game_over"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],["du","ev",{"VAR?":"lomse"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"bridge_crossed"},{"list":{"bridge_id.C":3,"bridge_id.D":4,"bridge_id.G":7}},"?","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"island"},"/ev",{"->":"game_over"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],"pop","nop","\n","ev","void","/ev","->->",{"#f":1}],"global decl":["ev",{"list":{},"origins":["bridge_id"]},{"VAR=":"bridge_id"},{"list":{},"origins":["islands"]},{"VAR=":"islands"},{"list":{}},{"VAR=":"bridge_crossed"},{"list":{}},{"VAR=":"island_seen"},1,{"VAR=":"intro"},0,{"VAR=":"ossuary_key"},0,{"VAR=":"cathedral_key"},1,{"VAR=":"ossuary_locked"},1,{"VAR=":"cathedral_passage_locked"},0,{"VAR=":"drachmas"},"/ev","end",null],"#f":1}],"listDefs":{"bridge_id":{"A":1,"B":2,"C":3,"D":4,"E":5,"F":6,"G":7},"islands":{"north":1,"south":2,"kneiphof":3,"lomse":4}}};